<!doctype html>
<html><head><meta charset="utf-8"><title>Register</title><link 
rel="stylesheet" href="styles.css"></head><body>
<header>
  <div class="logo">
    <img src="images/logo.png" alt="logo" style="width:48px;height:48px;">
    <div>Dawg-Tickets</div>
  </div>
  <nav>
    <a href="index.html">Home</a>
    <a href="events.html">Events</a>
    <a href="your-trades.html">Your Trades</a>
    <a href="trade-history.html">Trade History</a>
    <a href="create-listing.html">+ Create Trade</a>
  </nav>
</header>
<div class="container">
  <h1>Sign Up</h1>
  <form id="regForm">
    <div class="form-row"><input name="username" placeholder="Username" 
required></div>
    <div class="form-row"><input name="email" type="email" 
placeholder="Email" required></div>
    <div class="form-row"><input name="password" type="password" 
placeholder="Password" required></div>
    <div class="form-row"><button class="btn 
btn-primary">Register</button></div>
  </form>
</div>
<script>
document.getElementById('regForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  const body = { username: fd.get('username'), email: fd.get('email'), 
password: fd.get('password') };
  const res = await fetch('/api/auth/register', { method:'POST', headers:{ 
'Content-Type':'application/json' }, body: JSON.stringify(body) });
  const j = await res.json();
  if (res.ok) { localStorage.setItem('token', j.token); 
alert('Registered'); location.href='/'; }
  else alert(j.error || JSON.stringify(j));
});
</script>
</body></html>

